{"version":3,"sources":["../src/MobileHeader.jsx"],"names":["React","PropTypes","injectIntl","intlShape","getConfig","Menu","MenuTrigger","MenuContent","Avatar","LinkedLogo","Logo","messages","MenuIcon","MobileHeader","props","mainMenu","Array","isArray","map","menuItem","type","href","content","submenuContent","userMenu","loggedOutItems","i","arr","length","logo","logoAltText","logoDestination","loggedIn","avatar","username","stickyOnMobile","intl","logoProps","src","alt","stickyClassName","logoClasses","AUTHN_MINIMAL_HEADER","formatMessage","width","height","renderMainMenu","renderUserMenuItems","renderLoggedOutItems","Component","propTypes","oneOfType","node","array","arrayOf","shape","oneOf","string","bool","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\n// Local Components\nimport { Menu, MenuTrigger, MenuContent } from './Menu';\nimport Avatar from './Avatar';\nimport { LinkedLogo, Logo } from './Logo';\n\n// i18n\nimport messages from './Header.messages';\n\n// Assets\nimport { MenuIcon } from './Icons';\n\nclass MobileHeader extends React.Component {\n  constructor(props) { // eslint-disable-line no-useless-constructor\n    super(props);\n  }\n\n  renderMainMenu() {\n    const { mainMenu } = this.props;\n\n    // Nodes are accepted as a prop\n    if (!Array.isArray(mainMenu)) {\n      return mainMenu;\n    }\n\n    return mainMenu.map((menuItem) => {\n      const {\n        type,\n        href,\n        content,\n        submenuContent,\n      } = menuItem;\n\n      if (type === 'item') {\n        return (\n          <a key={`${type}-${content}`} className=\"nav-link\" href={href}>\n            {content}\n          </a>\n        );\n      }\n\n      return (\n        <Menu key={`${type}-${content}`} tag=\"div\" className=\"nav-item\">\n          <MenuTrigger tag=\"a\" role=\"button\" tabIndex=\"0\" className=\"nav-link\">\n            {content}\n          </MenuTrigger>\n          <MenuContent className=\"position-static pin-left pin-right py-2\">\n            {submenuContent}\n          </MenuContent>\n        </Menu>\n      );\n    });\n  }\n\n  renderUserMenuItems() {\n    const { userMenu } = this.props;\n\n    return userMenu.map(({ type, href, content }) => (\n      <li className=\"nav-item\" key={`${type}-${content}`}>\n        <a className=\"nav-link\" href={href}>{content}</a>\n      </li>\n    ));\n  }\n\n  renderLoggedOutItems() {\n    const { loggedOutItems } = this.props;\n\n    return loggedOutItems.map(({ type, href, content }, i, arr) => (\n      <li className=\"nav-item px-3 my-2\" key={`${type}-${content}`}>\n        <a\n          className={i < arr.length - 1 ? 'btn btn-block btn-outline-primary' : 'btn btn-block btn-primary'}\n          href={href}\n        >\n          {content}\n        </a>\n      </li>\n    ));\n  }\n\n  render() {\n    const {\n      logo,\n      logoAltText,\n      logoDestination,\n      loggedIn,\n      avatar,\n      username,\n      stickyOnMobile,\n      intl,\n      mainMenu,\n      userMenu,\n      loggedOutItems,\n    } = this.props;\n    const logoProps = { src: logo, alt: logoAltText, href: logoDestination };\n    const stickyClassName = stickyOnMobile ? 'sticky-top' : '';\n    const logoClasses = getConfig().AUTHN_MINIMAL_HEADER ? 'justify-content-left pl-3' : 'justify-content-center';\n\n    return (\n      <header\n        aria-label={intl.formatMessage(messages['header.label.main.header'])}\n        className={`site-header-mobile d-flex justify-content-between align-items-center shadow ${stickyClassName}`}\n      >\n        <a className=\"nav-skip sr-only sr-only-focusable\" href=\"#main\">{intl.formatMessage(messages['header.label.skip.nav'])}</a>\n        {mainMenu.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-start\">\n\n            <Menu className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.main.menu'])}\n                title={intl.formatMessage(messages['header.label.main.menu'])}\n              >\n                <MenuIcon role=\"img\" aria-hidden focusable=\"false\" style={{ width: '1.5rem', height: '1.5rem' }} />\n              </MenuTrigger>\n              <MenuContent\n                tag=\"nav\"\n                aria-label={intl.formatMessage(messages['header.label.main.nav'])}\n                className=\"nav flex-column pin-left pin-right border-top shadow py-2\"\n              >\n                {this.renderMainMenu()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n        <div className={`w-100 d-flex ${logoClasses}`}>\n          { logoDestination === null ? <Logo className=\"logo\" src={logo} alt={logoAltText} /> : <LinkedLogo className=\"logo\" {...logoProps} itemType=\"http://schema.org/Organization\" />}\n        </div>\n        {userMenu.length > 0 || loggedOutItems.length > 0 ? (\n          <div className=\"w-100 d-flex justify-content-end align-items-center\">\n            <Menu tag=\"nav\" aria-label={intl.formatMessage(messages['header.label.secondary.nav'])} className=\"position-static\">\n              <MenuTrigger\n                tag=\"button\"\n                className=\"icon-button\"\n                aria-label={intl.formatMessage(messages['header.label.account.menu'])}\n                title={intl.formatMessage(messages['header.label.account.menu'])}\n              >\n                <Avatar size=\"1.5rem\" src={avatar} alt={username} />\n              </MenuTrigger>\n              <MenuContent tag=\"ul\" className=\"nav flex-column pin-left pin-right border-top shadow py-2\">\n                {loggedIn ? this.renderUserMenuItems() : this.renderLoggedOutItems()}\n              </MenuContent>\n            </Menu>\n          </div>\n        ) : null}\n      </header>\n    );\n  }\n}\n\nMobileHeader.propTypes = {\n  mainMenu: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.array,\n  ]),\n\n  userMenu: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.oneOf(['item', 'menu']),\n    href: PropTypes.string,\n    content: PropTypes.string,\n  })),\n  loggedOutItems: PropTypes.arrayOf(PropTypes.shape({\n    type: PropTypes.oneOf(['item', 'menu']),\n    href: PropTypes.string,\n    content: PropTypes.string,\n  })),\n  logo: PropTypes.string,\n  logoAltText: PropTypes.string,\n  logoDestination: PropTypes.string,\n  avatar: PropTypes.string,\n  username: PropTypes.string,\n  loggedIn: PropTypes.bool,\n  stickyOnMobile: PropTypes.bool,\n\n  // i18n\n  intl: intlShape.isRequired,\n};\n\nMobileHeader.defaultProps = {\n  mainMenu: [],\n  userMenu: [],\n  loggedOutItems: [],\n  logo: null,\n  logoAltText: null,\n  logoDestination: null,\n  avatar: null,\n  username: null,\n  loggedIn: false,\n  stickyOnMobile: true,\n\n};\n\nexport default injectIntl(MobileHeader);\n"],"file":"MobileHeader.js"}