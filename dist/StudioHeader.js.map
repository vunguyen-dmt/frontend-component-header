{"version":3,"sources":["../src/StudioHeader.jsx"],"names":["React","useContext","PropTypes","injectIntl","intlShape","AppContext","APP_CONFIG_INITIALIZED","ensureConfig","mergeConfig","subscribe","DesktopHeader","messages","AUTHN_MINIMAL_HEADER","process","env","StudioHeader","intl","mainMenu","appMenu","authenticatedUser","config","userMenu","type","href","STUDIO_BASE_URL","content","formatMessage","LOGOUT_URL","props","logo","LOGO_URL","logoAltText","SITE_NAME","logoDestination","loggedIn","username","avatar","loggedOutItems","propTypes","isRequired","shape","string","menuItems","arrayOf","defaultProps"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport {\n  APP_CONFIG_INITIALIZED,\n  ensureConfig,\n  mergeConfig,\n  subscribe,\n} from '@edx/frontend-platform';\n\nimport DesktopHeader from './DesktopHeader';\n\nimport messages from './Header.messages';\n\nensureConfig([\n  'STUDIO_BASE_URL',\n  'LOGOUT_URL',\n  'LOGIN_URL',\n  'SITE_NAME',\n  'LOGO_URL',\n  'ORDER_HISTORY_URL',\n], 'StudioHeader component');\n\nsubscribe(APP_CONFIG_INITIALIZED, () => {\n  mergeConfig({\n    AUTHN_MINIMAL_HEADER: !!process.env.AUTHN_MINIMAL_HEADER,\n  }, 'StudioHeader additional config');\n});\n\nfunction StudioHeader({ intl, mainMenu, appMenu }) {\n  const { authenticatedUser, config } = useContext(AppContext);\n\n  const userMenu = authenticatedUser === null ? [] : [\n    {\n      type: 'item',\n      href: `${config.STUDIO_BASE_URL}`,\n      content: intl.formatMessage(messages['header.user.menu.studio.home']),\n    },\n    {\n      type: 'item',\n      href: `${config.STUDIO_BASE_URL}/maintenance`,\n      content: intl.formatMessage(messages['header.user.menu.studio.maintenance']),\n    },\n    {\n      type: 'item',\n      href: config.LOGOUT_URL,\n      content: intl.formatMessage(messages['header.user.menu.logout']),\n    },\n  ];\n\n  const props = {\n    logo: config.LOGO_URL,\n    logoAltText: config.SITE_NAME,\n    logoDestination: config.STUDIO_BASE_URL,\n    loggedIn: authenticatedUser !== null,\n    username: authenticatedUser !== null ? authenticatedUser.username : null,\n    avatar: authenticatedUser !== null ? authenticatedUser.avatar : null,\n    mainMenu,\n    userMenu,\n    appMenu,\n    loggedOutItems: [],\n  };\n\n  return <DesktopHeader {...props} />;\n}\n\nStudioHeader.propTypes = {\n  intl: intlShape.isRequired,\n  appMenu: PropTypes.shape(\n    {\n      content: PropTypes.string,\n      href: PropTypes.string,\n      menuItems: PropTypes.arrayOf(\n        PropTypes.shape({\n          type: PropTypes.string,\n          href: PropTypes.string,\n          content: PropTypes.string,\n        }),\n      ),\n    },\n  ),\n  mainMenu: PropTypes.arrayOf(\n    PropTypes.shape(\n      {\n        type: PropTypes.string,\n        href: PropTypes.string,\n        content: PropTypes.string,\n      },\n    ),\n  ),\n};\n\nStudioHeader.defaultProps = {\n  appMenu: null,\n  mainMenu: [],\n};\n\nexport default injectIntl(StudioHeader);\n"],"file":"StudioHeader.js"}